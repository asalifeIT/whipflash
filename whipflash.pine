//@version=5
indicator("Enhanced Visuals", overlay=true)

// Function to calculate Simple Moving Average (SMA)
group "Averages"
calc_sma(source, length) =>
    ta.sma(source, length)

// Function to apply a gradient to visualize better trend areas
group "Visual Enhancements"
gradient_fill(start_price, end_price, color_top, color_bottom, transparency) =>
    var color bottomFill = color.new(color_bottom, transparency)
    var color topFill = color.new(color_top, transparency)
    var int fillId = na
    
    if (na(fillId))
        fillId := line.new(na, na, na, na, xloc.bar_time, extend.none)
        line.set_color(fillId, bottomFill)
        fill.new(start_price, end_price, topFill, bottomFill, fillId)

// Defaults and Source Definitions
inp_source = input.source(close, "Input Source")
inp_period = input.int(14, "Period", minval=1)

// Calculate Indicator Line result
sma_result = calc_sma(inp_source, inp_period)
plot(sma_result, title="Simple Moving Average", color=color.blue, linewidth=2)
// Enhance visuals using gradients
gradient_fill(low, high, color.new(color.green,20), color.new(color.red,20),40).